apiVersion: apps/v1
kind: Deployment
metadata:
  name: deep-diver
  namespace: app-121
spec:
  replicas: 1
  selector:
    matchLabels:
      app: deep-diver
  template:
    metadata:
      labels:
        app: deep-diver
    spec:
      containers:
      - name: deep-diver
        image: busybox
        command: ["/bin/sh", "-c"]
        args:
        - |
          echo "Pod deep-diver starting..."
          # Generate a mix of log levels with many entries
          for i in $(seq 1 100); do
            case $((i % 4)) in
              0) echo "$(date -u '+%Y-%m-%d %H:%M:%S') ERROR Database connection failed: timeout after 30s (entry $i)";;
              1) echo "$(date -u '+%Y-%m-%d %H:%M:%S') INFO Processing request $i successfully";;
              2) echo "$(date -u '+%Y-%m-%d %H:%M:%S') ERROR Authentication token expired for user$i";;
              3) echo "$(date -u '+%Y-%m-%d %H:%M:%S') WARN High memory usage detected: 78% (entry $i)";;
            esac
            sleep 0.1
          done
          echo "$(date -u '+%Y-%m-%d %H:%M:%S') ERROR Critical: Service mesh connectivity lost"
          echo "$(date -u '+%Y-%m-%d %H:%M:%S') INFO Log generation complete"
          # Keep container running
          sleep 3600
