user_prompt: "Show me ERROR logs from the pod deep-diver in namespace app-121, limit to 50 entries"
expected_output:
  # Should mention the filter applied
  - "ERROR"
  - "error"
  - "filtered"
  # Should mention the limit
  - "50"
  - "entries"
  - "limited"
  # Should include actual error content
  - "Database connection failed"
  - "Authentication token expired"

before_test: |
  kubectl create namespace app-121 || true
  kubectl apply -f ./manifest.yaml

after_test: |
  kubectl delete -f ./manifest.yaml --ignore-not-found
  kubectl delete namespace app-121 --ignore-not-found

tags:
  - logs
  - transparency

evaluation:
  # This test verifies that Holmes communicates filters and limits when fetching logs
  correctness: 1
